# Exemple Nginx (à adapter) : TLS, limites, timeouts
# Place ce bloc dans un server { ... }

# Taille max request body (doit matcher HTTP_MAX_BODY_BYTES)
client_max_body_size 1m;

# Timeouts (doivent être un peu > HTTP_REQUEST_TIMEOUT_SECS)
proxy_connect_timeout 5s;
proxy_send_timeout 35s;
proxy_read_timeout 35s;

location / {
    proxy_http_version 1.1;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;

    # Propager/générer un request-id
    proxy_set_header X-Request-Id $request_id;

    proxy_pass http://127.0.0.1:8080;
}
